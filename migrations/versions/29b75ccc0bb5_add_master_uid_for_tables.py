"""add master_uid for tables

Revision ID: 29b75ccc0bb5
Revises: f701a9ea2ff9
Create Date: 2017-07-26 15:52:56.740286

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import mysql

# revision identifiers, used by Alembic.
revision = '29b75ccc0bb5'
down_revision = 'f701a9ea2ff9'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('fp_ability', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_ability_master_uid'), 'fp_ability', ['master_uid'], unique=False)
    op.add_column('fp_address', sa.Column('is_default', sa.Boolean(), nullable=True))
    op.add_column('fp_address', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_address_master_uid'), 'fp_address', ['master_uid'], unique=False)
    op.drop_column('fp_address', 'default')
    op.add_column('fp_asset', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_asset_master_uid'), 'fp_asset', ['master_uid'], unique=False)
    op.add_column('fp_attribute', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_attribute_master_uid'), 'fp_attribute', ['master_uid'], unique=False)
    op.add_column('fp_attribute_group', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_attribute_group_master_uid'), 'fp_attribute_group', ['master_uid'], unique=False)
    op.add_column('fp_banner', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_banner_master_uid'), 'fp_banner', ['master_uid'], unique=False)
    op.add_column('fp_banner_image', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_banner_image_master_uid'), 'fp_banner_image', ['master_uid'], unique=False)
    op.add_column('fp_brand', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_brand_master_uid'), 'fp_brand', ['master_uid'], unique=False)
    op.drop_index('ix_fp_brand_name', table_name='fp_brand')
    op.create_index(op.f('ix_fp_brand_name'), 'fp_brand', ['name'], unique=False)
    op.add_column('fp_cart', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_cart_master_uid'), 'fp_cart', ['master_uid'], unique=False)
    op.add_column('fp_category', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_category_master_uid'), 'fp_category', ['master_uid'], unique=False)
    op.add_column('fp_company', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_company_full_name'), 'fp_company', ['full_name'], unique=False)
    op.create_index(op.f('ix_fp_company_master_uid'), 'fp_company', ['master_uid'], unique=False)
    op.drop_index('full_name', table_name='fp_company')
    op.add_column('fp_country', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_country_master_uid'), 'fp_country', ['master_uid'], unique=False)
    op.add_column('fp_currency', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_currency_master_uid'), 'fp_currency', ['master_uid'], unique=False)
    op.add_column('fp_customer', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_customer_master_uid'), 'fp_customer', ['master_uid'], unique=False)
    op.add_column('fp_customer_group', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_customer_group_master_uid'), 'fp_customer_group', ['master_uid'], unique=False)
    op.add_column('fp_customer_search', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_customer_search_master_uid'), 'fp_customer_search', ['master_uid'], unique=False)
    op.add_column('fp_directory', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_directory_master_uid'), 'fp_directory', ['master_uid'], unique=False)
    op.create_index(op.f('ix_fp_directory_name'), 'fp_directory', ['name'], unique=False)
    op.drop_index('name', table_name='fp_directory')
    op.add_column('fp_geo_zone', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_geo_zone_master_uid'), 'fp_geo_zone', ['master_uid'], unique=False)
    op.add_column('fp_language', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_language_master_uid'), 'fp_language', ['master_uid'], unique=False)
    op.add_column('fp_length_class', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_length_class_master_uid'), 'fp_length_class', ['master_uid'], unique=False)
    op.add_column('fp_order', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_order_master_uid'), 'fp_order', ['master_uid'], unique=False)
    op.add_column('fp_order_detail', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_order_detail_master_uid'), 'fp_order_detail', ['master_uid'], unique=False)
    op.add_column('fp_product', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_product_master_uid'), 'fp_product', ['master_uid'], unique=False)
    op.add_column('fp_product_description', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_product_description_master_uid'), 'fp_product_description', ['master_uid'], unique=False)
    op.add_column('fp_product_discount', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_product_discount_master_uid'), 'fp_product_discount', ['master_uid'], unique=False)
    op.add_column('fp_role', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_role_master_uid'), 'fp_role', ['master_uid'], unique=False)
    op.add_column('fp_stock_status', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_stock_status_master_uid'), 'fp_stock_status', ['master_uid'], unique=False)
    op.add_column('fp_tag', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_tag_master_uid'), 'fp_tag', ['master_uid'], unique=False)
    op.add_column('fp_tax_class', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_tax_class_master_uid'), 'fp_tax_class', ['master_uid'], unique=False)
    op.add_column('fp_tax_rate', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_tax_rate_master_uid'), 'fp_tax_rate', ['master_uid'], unique=False)
    op.add_column('fp_user', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_user_master_uid'), 'fp_user', ['master_uid'], unique=False)
    op.add_column('fp_weight_class', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_weight_class_master_uid'), 'fp_weight_class', ['master_uid'], unique=False)
    op.add_column('fp_zone', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_zone_master_uid'), 'fp_zone', ['master_uid'], unique=False)
    op.add_column('fp_zone_geo_zone', sa.Column('master_uid', sa.Integer(), nullable=True))
    op.create_index(op.f('ix_fp_zone_geo_zone_master_uid'), 'fp_zone_geo_zone', ['master_uid'], unique=False)
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_index(op.f('ix_fp_zone_geo_zone_master_uid'), table_name='fp_zone_geo_zone')
    op.drop_column('fp_zone_geo_zone', 'master_uid')
    op.drop_index(op.f('ix_fp_zone_master_uid'), table_name='fp_zone')
    op.drop_column('fp_zone', 'master_uid')
    op.drop_index(op.f('ix_fp_weight_class_master_uid'), table_name='fp_weight_class')
    op.drop_column('fp_weight_class', 'master_uid')
    op.drop_index(op.f('ix_fp_user_master_uid'), table_name='fp_user')
    op.drop_column('fp_user', 'master_uid')
    op.drop_index(op.f('ix_fp_tax_rate_master_uid'), table_name='fp_tax_rate')
    op.drop_column('fp_tax_rate', 'master_uid')
    op.drop_index(op.f('ix_fp_tax_class_master_uid'), table_name='fp_tax_class')
    op.drop_column('fp_tax_class', 'master_uid')
    op.drop_index(op.f('ix_fp_tag_master_uid'), table_name='fp_tag')
    op.drop_column('fp_tag', 'master_uid')
    op.drop_index(op.f('ix_fp_stock_status_master_uid'), table_name='fp_stock_status')
    op.drop_column('fp_stock_status', 'master_uid')
    op.drop_index(op.f('ix_fp_role_master_uid'), table_name='fp_role')
    op.drop_column('fp_role', 'master_uid')
    op.drop_index(op.f('ix_fp_product_discount_master_uid'), table_name='fp_product_discount')
    op.drop_column('fp_product_discount', 'master_uid')
    op.drop_index(op.f('ix_fp_product_description_master_uid'), table_name='fp_product_description')
    op.drop_column('fp_product_description', 'master_uid')
    op.drop_index(op.f('ix_fp_product_master_uid'), table_name='fp_product')
    op.drop_column('fp_product', 'master_uid')
    op.drop_index(op.f('ix_fp_order_detail_master_uid'), table_name='fp_order_detail')
    op.drop_column('fp_order_detail', 'master_uid')
    op.drop_index(op.f('ix_fp_order_master_uid'), table_name='fp_order')
    op.drop_column('fp_order', 'master_uid')
    op.drop_index(op.f('ix_fp_length_class_master_uid'), table_name='fp_length_class')
    op.drop_column('fp_length_class', 'master_uid')
    op.drop_index(op.f('ix_fp_language_master_uid'), table_name='fp_language')
    op.drop_column('fp_language', 'master_uid')
    op.drop_index(op.f('ix_fp_geo_zone_master_uid'), table_name='fp_geo_zone')
    op.drop_column('fp_geo_zone', 'master_uid')
    op.create_index('name', 'fp_directory', ['name'], unique=True)
    op.drop_index(op.f('ix_fp_directory_name'), table_name='fp_directory')
    op.drop_index(op.f('ix_fp_directory_master_uid'), table_name='fp_directory')
    op.drop_column('fp_directory', 'master_uid')
    op.drop_index(op.f('ix_fp_customer_search_master_uid'), table_name='fp_customer_search')
    op.drop_column('fp_customer_search', 'master_uid')
    op.drop_index(op.f('ix_fp_customer_group_master_uid'), table_name='fp_customer_group')
    op.drop_column('fp_customer_group', 'master_uid')
    op.drop_index(op.f('ix_fp_customer_master_uid'), table_name='fp_customer')
    op.drop_column('fp_customer', 'master_uid')
    op.drop_index(op.f('ix_fp_currency_master_uid'), table_name='fp_currency')
    op.drop_column('fp_currency', 'master_uid')
    op.drop_index(op.f('ix_fp_country_master_uid'), table_name='fp_country')
    op.drop_column('fp_country', 'master_uid')
    op.create_index('full_name', 'fp_company', ['full_name'], unique=True)
    op.drop_index(op.f('ix_fp_company_master_uid'), table_name='fp_company')
    op.drop_index(op.f('ix_fp_company_full_name'), table_name='fp_company')
    op.drop_column('fp_company', 'master_uid')
    op.drop_index(op.f('ix_fp_category_master_uid'), table_name='fp_category')
    op.drop_column('fp_category', 'master_uid')
    op.drop_index(op.f('ix_fp_cart_master_uid'), table_name='fp_cart')
    op.drop_column('fp_cart', 'master_uid')
    op.drop_index(op.f('ix_fp_brand_name'), table_name='fp_brand')
    op.create_index('ix_fp_brand_name', 'fp_brand', ['name'], unique=True)
    op.drop_index(op.f('ix_fp_brand_master_uid'), table_name='fp_brand')
    op.drop_column('fp_brand', 'master_uid')
    op.drop_index(op.f('ix_fp_banner_image_master_uid'), table_name='fp_banner_image')
    op.drop_column('fp_banner_image', 'master_uid')
    op.drop_index(op.f('ix_fp_banner_master_uid'), table_name='fp_banner')
    op.drop_column('fp_banner', 'master_uid')
    op.drop_index(op.f('ix_fp_attribute_group_master_uid'), table_name='fp_attribute_group')
    op.drop_column('fp_attribute_group', 'master_uid')
    op.drop_index(op.f('ix_fp_attribute_master_uid'), table_name='fp_attribute')
    op.drop_column('fp_attribute', 'master_uid')
    op.drop_index(op.f('ix_fp_asset_master_uid'), table_name='fp_asset')
    op.drop_column('fp_asset', 'master_uid')
    op.add_column('fp_address', sa.Column('default', mysql.TINYINT(display_width=1), autoincrement=False, nullable=True))
    op.drop_index(op.f('ix_fp_address_master_uid'), table_name='fp_address')
    op.drop_column('fp_address', 'master_uid')
    op.drop_column('fp_address', 'is_default')
    op.drop_index(op.f('ix_fp_ability_master_uid'), table_name='fp_ability')
    op.drop_column('fp_ability', 'master_uid')
    # ### end Alembic commands ###
